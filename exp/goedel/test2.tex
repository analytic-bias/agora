\documentclass[border={10pt 10pt 10pt 10pt}]{standalone}
\usepackage{xcolor}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{unicode-math}
\usepackage{pgfplots}
\usepackage{relsize}
\usepackage{tikz}
\usepackage{frege}
\usepackage{wrapfig}
\usepackage{empheq}
\usepackage{soul}
\usepackage{quiver}
\usepackage{array}
\usetikzlibrary{fit,tikzmark}
\newenvironment{dummyenv}{}{}
\begin{document}
\begin{dummyenv}
\nopagecolor
\definecolor{ourblue}{HTML}{0070C0}
$\displaystyle
\begin{array}{rll}
1.&\text{\textit{\st{Show}}}\;\square\varphi\to\square(\varphi\to(\square(\square\varphi\land\varphi)\to(\square\varphi\land\varphi)))&\text{3, CD}\\
2.&\tikzmark{start1}\phantom{\text{\textit{\st{Show}}}\;}\square\varphi&\text{Assume (CD)}\\
3.&\phantom{\text{\textit{\st{Show}}}\;}\square(\square(\square\varphi\land\varphi)\to\square\varphi\land\varphi)\to\square(\square\varphi\land\varphi)&\text{Axiom (L)}\\
4.&\quad\text{\textit{\st{Show}}}\;\square(\varphi\to(\square(\square\varphi\land\varphi)\to(\square\varphi\land\varphi)))&\text{5, ND}\\
5.&\quad\tikzmark{start2}\quad\text{\textit{\st{Show}}}\;\varphi\to(\square(\square\varphi\land\varphi)\to(\square\varphi\land\varphi))&\text{7, CD}\\
6.&\quad\quad\tikzmark{start3}\phantom{\text{\textit{\st{Show}}}\;}\varphi&\text{Assume (CD)}\\
7.&\quad\quad\quad\text{\textit{\st{Show}}}\;\square(\square\varphi\land\varphi)\to\square\varphi\land\varphi&\text{11, CD}\\
8.&\quad\quad\tikzmark{start4}\quad\phantom{\text{\textit{\st{Show}}}\;}\square(\square\varphi\land\varphi)&\text{Assume (CD)}\\
9.&\quad\quad\quad\phantom{\text{\textit{\st{Show}}}\;}\square\square\varphi\land\square\varphi&\text{8, (\textbf{K}), MP}\\
10.&\quad\quad\quad\phantom{\text{\textit{\st{Show}}}\;}\square\varphi&\text{9, S}\\
11.&\quad\quad\quad\phantom{\text{\textit{\st{Show}}}\;}\square\varphi\land\varphi&\tikzmark{end4}\tikzmark{end3}\tikzmark{end2}\tikzmark{end1}\text{10, 6 ADJ}
\end{array}
$
\begin{tikzpicture}[remember picture,overlay]
  \coordinate (start1) at ([xshift=1ex,yshift=1.6ex]pic cs:start1);
  \coordinate (end1) at ([xshift=-1.5ex,yshift=-0.5ex]pic cs:end1);
  \node[inner sep=2pt,draw=ourblue,fit=(start1) (end1)] {};
  
  \foreach \i in {2,...,4} {
    \coordinate (start) at ([xshift=1ex,yshift=1.6ex]pic cs:start\i);
    \coordinate (e\i) at ([xshift=-1ex,yshift=-0.5ex]pic cs:end\i);
    \path let \p1 = (e\i), \p2 = (end1) in coordinate (end) at (\x2,\y1);
    \node[inner sep=2pt,draw=ourblue,fit=(start) (end)] {};
  }
\end{tikzpicture}
\end{dummyenv}
\end{document}

